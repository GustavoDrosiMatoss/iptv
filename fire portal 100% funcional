-- Teleporte ULTRA R√ÅPIDO para FirePortal e ativa√ß√£o (LocalScript)
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Busca R√ÅPIDA do FirePortal e identifica o andar atual
local portal = nil
local currentFloor = nil
local main = workspace.__Main
local world = main.__World

for i = 1, 200 do
    local room = world:FindFirstChild("Room_" .. i)
    if room then
        local foundPortal = room:FindFirstChild("FirePortal")
        if foundPortal then
            portal = foundPortal
            currentFloor = i -- O andar atual √© o n√∫mero da room
            print("üìç ANDAR ATUAL: " .. i)
            print("üéØ Pr√≥ximo andar ser√°: " .. (i + 1))
            break
        end
    end
end

if not portal then
    warn("FirePortal n√£o encontrado! Voc√™ pode estar no andar m√°ximo ou em uma √°rea sem portal.")
    return
end

-- Character e HumanoidRootPart
local char = player.Character or player.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")

-- TELEPORTE INSTANT√ÇNEO
local destino = portal.CFrame
hrp.CFrame = destino
hrp.Velocity = Vector3.zero

-- Pequena pausa para estabilizar
task.wait(0.1)

-- BUSCA R√ÅPIDA do ProximityPrompt
local prompt = portal:FindFirstChildOfClass("ProximityPrompt")
if not prompt then
    for _, obj in ipairs(portal:GetDescendants()) do
        if obj:IsA("ProximityPrompt") then
            prompt = obj
            break
        end
    end
end

if not prompt and portal.Parent then
    prompt = portal.Parent:FindFirstChildOfClass("ProximityPrompt")
end

if prompt then
    -- ATIVA√á√ÉO R√ÅPIDA - s√≥ 3 tentativas
    for i = 1, 3 do
        fireproximityprompt(prompt)
        task.wait(0.05) -- Intervalo m√≠nimo
    end
    print("üöÄ Portal ativado! Subindo do andar " .. currentFloor .. " para o andar " .. (currentFloor + 1))
else
    warn("ProximityPrompt n√£o encontrado!")
end